{
  "library": {
    "type": "Library",

    "identifier": {
      "type": "VersionedIdentifier",

      "id": "Context_AG",

      "version": "1.0.0"
    },

    "schemaIdentifier": {
      "type": "VersionedIdentifier",

      "id": "urn:hl7-org:elm",

      "version": "r1"
    },

    "usings": {
      "type": "Library$Usings",

      "def": [
        {
          "type": "UsingDef",

          "localIdentifier": "System",

          "uri": "urn:hl7-org:elm-types:r1"
        },

        {
          "type": "UsingDef",

          "locator": "3:1-3:26",

          "localIdentifier": "FHIR",

          "uri": "http://hl7.org/fhir",

          "version": "4.0.1"
        }
      ]
    },

    "contexts": {
      "type": "Library$Contexts",

      "def": [
        {
          "type": "ContextDef",

          "locator": "5:1-5:15",

          "name": "Patient"
        },

        {
          "type": "ContextDef",

          "locator": "10:1-10:18",

          "name": "Unfiltered"
        }
      ]
    },

    "statements": {
      "type": "Library$Statements",

      "def": [
        {
          "type": "ExpressionDef",

          "expression": {
            "type": "SingletonFrom",

            "operand": {
              "type": "Retrieve",

              "locator": "5:1-5:15",

              "dataType": "{http://hl7.org/fhir}Patient",

              "templateId": "http://hl7.org/fhir/StructureDefinition/Patient"
            }
          },

          "locator": "5:1-5:15",

          "name": "Patient",

          "context": "Patient"
        },

        {
          "type": "ExpressionDef",

          "expression": {
            "type": "GreaterOrEqual",

            "operand": [
              {
                "type": "CalculateAgeAt",

                "operand": [
                  {
                    "type": "Property",

                    "source": {
                      "type": "ExpressionRef",

                      "name": "Patient"
                    },

                    "path": "birthDate.value"
                  },

                  {
                    "type": "Date",

                    "year": {
                      "type": "Literal",

                      "valueType": "{urn:hl7-org:elm-types:r1}Integer",

                      "value": "2013"
                    },

                    "month": {
                      "type": "Literal",

                      "valueType": "{urn:hl7-org:elm-types:r1}Integer",

                      "value": "1"
                    },

                    "day": {
                      "type": "Literal",

                      "valueType": "{urn:hl7-org:elm-types:r1}Integer",

                      "value": "1"
                    },

                    "locator": "8:16-8:26",

                    "resultTypeName": "{urn:hl7-org:elm-types:r1}Date"
                  }
                ],

                "locator": "8:3-8:27",

                "resultTypeName": "{urn:hl7-org:elm-types:r1}Integer",

                "precision": "Year"
              },

              {
                "type": "Literal",

                "locator": "8:32-8:33",

                "resultTypeName": "{urn:hl7-org:elm-types:r1}Integer",

                "valueType": "{urn:hl7-org:elm-types:r1}Integer",

                "value": "16"
              }
            ],

            "locator": "8:3-8:33",

            "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean"
          },

          "locator": "7:1-8:33",

          "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",

          "name": "InInitialPopulation",

          "context": "Patient",

          "accessLevel": "Public"
        },

        {
          "type": "ExpressionDef",

          "expression": {
            "type": "Count",

            "source": {
              "type": "Query",

              "source": [
                {
                  "type": "AliasedQuerySource",

                  "expression": {
                    "type": "ExpressionRef",

                    "resultTypeSpecifier": {
                      "type": "ListTypeSpecifier",

                      "elementType": {
                        "type": "NamedTypeSpecifier",

                        "name": "{urn:hl7-org:elm-types:r1}Boolean"
                      }
                    },

                    "locator": "13:9-13:27",

                    "name": "InInitialPopulation"
                  },

                  "resultTypeSpecifier": {
                    "type": "ListTypeSpecifier",

                    "elementType": {
                      "type": "NamedTypeSpecifier",

                      "name": "{urn:hl7-org:elm-types:r1}Boolean"
                    }
                  },

                  "locator": "13:9-13:30",

                  "alias": "IP"
                }
              ],

              "relationship": [],

              "where": {
                "type": "IsTrue",

                "operand": {
                  "type": "AliasRef",

                  "locator": "13:38-13:39",

                  "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean",

                  "name": "IP"
                },

                "locator": "13:32-13:47",

                "resultTypeName": "{urn:hl7-org:elm-types:r1}Boolean"
              },

              "resultTypeSpecifier": {
                "type": "ListTypeSpecifier",

                "elementType": {
                  "type": "NamedTypeSpecifier",

                  "name": "{urn:hl7-org:elm-types:r1}Boolean"
                }
              },

              "locator": "13:9-13:47"
            },

            "locator": "13:3-13:48",

            "resultTypeName": "{urn:hl7-org:elm-types:r1}Integer"
          },

          "locator": "12:1-13:48",

          "resultTypeName": "{urn:hl7-org:elm-types:r1}Integer",

          "name": "InitialPopulationCount",

          "context": "Unfiltered",

          "accessLevel": "Public"
        }
      ]
    },

    "annotation": [
      {
        "type": "CqlToElmInfo",

        "translatorOptions": "EnableLocators,EnableResultTypes,EnableDetailedErrors"
      }
    ]
  }
}
