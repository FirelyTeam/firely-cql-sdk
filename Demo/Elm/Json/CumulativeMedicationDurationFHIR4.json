{
   "library" : {
      "annotation" : [ {
         "translatorVersion" : "2.11.0",
         "translatorOptions" : "EnableLocators,EnableResultTypes",
         "type" : "CqlToElmInfo"
      } ],
      "identifier" : {
         "id" : "CumulativeMedicationDurationFHIR4",
         "version" : "1.0.000"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "locator" : "3:1-3:26",
            "localIdentifier" : "FHIR",
            "uri" : "http://hl7.org/fhir",
            "version" : "4.0.1"
         } ]
      },
      "includes" : {
         "def" : [ {
            "locator" : "5:1-5:56",
            "localIdentifier" : "FHIRHelpers",
            "path" : "FHIRHelpers",
            "version" : "4.0.001"
         } ]
      },
      "parameters" : {
         "def" : [ {
            "locator" : "37:1-37:47",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
            "name" : "ErrorLevel",
            "accessLevel" : "Public",
            "default" : {
               "locator" : "37:39-37:47",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Warning",
               "type" : "Literal"
            },
            "parameterTypeSpecifier" : {
               "locator" : "37:24-37:29",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
               "name" : "{urn:hl7-org:elm-types:r1}String",
               "type" : "NamedTypeSpecifier"
            }
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "locator" : "7:1-7:82",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
            "name" : "V3TimingEvent",
            "id" : "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
            "accessLevel" : "Public"
         }, {
            "locator" : "8:1-8:60",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
            "name" : "EventTiming",
            "id" : "http://hl7.org/fhir/event-timing",
            "accessLevel" : "Public"
         } ]
      },
      "codes" : {
         "def" : [ {
            "locator" : "10:1-10:49",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "AC",
            "id" : "AC",
            "display" : "AC",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "10:22-10:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "11:1-11:52",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "ACD",
            "id" : "ACD",
            "display" : "ACD",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "11:24-11:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "12:1-12:52",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "ACM",
            "id" : "ACM",
            "display" : "ACM",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "12:24-12:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "13:1-13:52",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "ACV",
            "id" : "ACV",
            "display" : "ACV",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "13:24-13:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "14:1-14:50",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "AFT",
            "id" : "AFT",
            "display" : "AFT",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "14:24-14:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "15:1-15:68",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "AFT.early",
            "id" : "AFT.early",
            "display" : "AFT.early",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "15:36-15:48",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "16:1-16:65",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "AFT.late",
            "id" : "AFT.late",
            "display" : "AFT.late",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "16:34-16:46",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "17:1-17:46",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "C",
            "id" : "C",
            "display" : "C",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "17:20-17:34",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "18:1-18:49",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "CD",
            "id" : "CD",
            "display" : "CD",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "18:22-18:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "19:1-19:49",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "CM",
            "id" : "CM",
            "display" : "CM",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "19:22-19:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "20:1-20:49",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "CV",
            "id" : "CV",
            "display" : "CV",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "20:22-20:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "21:1-21:50",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "EVE",
            "id" : "EVE",
            "display" : "EVE",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "21:24-21:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "22:1-22:68",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "EVE.early",
            "id" : "EVE.early",
            "display" : "EVE.early",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "22:36-22:48",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "23:1-23:65",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "EVE.late",
            "id" : "EVE.late",
            "display" : "EVE.late",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "23:34-23:46",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "24:1-24:49",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "HS",
            "id" : "HS",
            "display" : "HS",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "24:22-24:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "25:1-25:53",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "MORN",
            "id" : "MORN",
            "display" : "MORN",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "25:26-25:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "26:1-26:71",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "MORN.early",
            "id" : "MORN.early",
            "display" : "MORN.early",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "26:38-26:50",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "27:1-27:68",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "MORN.late",
            "id" : "MORN.late",
            "display" : "MORN.late",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "27:36-27:48",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "28:1-28:56",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "NIGHT",
            "id" : "NIGHT",
            "display" : "NIGHT",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "28:28-28:40",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "29:1-29:53",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "NOON",
            "id" : "NOON",
            "display" : "NOON",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "29:26-29:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "30:1-30:49",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "PC",
            "id" : "PC",
            "display" : "PC",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "30:22-30:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "31:1-31:52",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "PCD",
            "id" : "PCD",
            "display" : "PCD",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "31:24-31:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "32:1-32:52",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "PCM",
            "id" : "PCM",
            "display" : "PCM",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "32:24-32:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "33:1-33:52",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "PCV",
            "id" : "PCV",
            "display" : "PCV",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "33:24-33:38",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         }, {
            "locator" : "34:1-34:50",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "PHS",
            "id" : "PHS",
            "display" : "PHS",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "34:24-34:36",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "EventTiming"
            }
         }, {
            "locator" : "35:1-35:55",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
            "name" : "WAKE",
            "id" : "WAKE",
            "display" : "WAKE",
            "accessLevel" : "Public",
            "codeSystem" : {
               "locator" : "35:26-35:40",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}CodeSystem",
               "name" : "V3TimingEvent"
            }
         } ]
      },
      "contexts" : {
         "def" : [ {
            "locator" : "39:1-39:15",
            "name" : "Patient"
         } ]
      },
      "statements" : {
         "def" : [ {
            "locator" : "39:1-39:15",
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "locator" : "39:1-39:15",
                  "dataType" : "{http://hl7.org/fhir}Patient",
                  "templateId" : "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "locator" : "42:1-66:5",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
            "name" : "ToDaily",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "locator" : "43:3-66:5",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
               "type" : "Case",
               "comparand" : {
                  "locator" : "43:8-43:18",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                  "path" : "unit",
                  "type" : "Property",
                  "source" : {
                     "locator" : "43:8-43:13",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "name" : "period",
                     "type" : "OperandRef"
                  }
               },
               "caseItem" : [ {
                  "locator" : "44:5-44:51",
                  "when" : {
                     "locator" : "44:10-44:12",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "h",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "44:19-44:51",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "44:19-44:27",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "name" : "frequency",
                           "type" : "OperandRef"
                        }
                     }, {
                        "locator" : "44:31-44:51",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Divide",
                        "operand" : [ {
                           "locator" : "44:32-44:35",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "locator" : "44:39-44:50",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "locator" : "44:39-44:44",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "name" : "period",
                              "type" : "OperandRef"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "locator" : "45:5-45:58",
                  "when" : {
                     "locator" : "45:10-45:14",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "min",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "45:21-45:58",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "locator" : "45:21-45:53",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "45:21-45:29",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "45:33-45:53",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "45:34-45:37",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "45:41-45:52",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "45:41-45:46",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "45:57-45:58",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "46:5-46:61",
                  "when" : {
                     "locator" : "46:10-46:12",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "s",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "46:19-46:61",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "locator" : "46:19-46:56",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "locator" : "46:19-46:51",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Multiply",
                           "operand" : [ {
                              "type" : "ToDecimal",
                              "operand" : {
                                 "locator" : "46:19-46:27",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "name" : "frequency",
                                 "type" : "OperandRef"
                              }
                           }, {
                              "locator" : "46:31-46:51",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "type" : "Divide",
                              "operand" : [ {
                                 "locator" : "46:32-46:35",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "value" : "24.0",
                                 "type" : "Literal"
                              }, {
                                 "locator" : "46:39-46:50",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "46:39-46:44",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "name" : "period",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "46:55-46:56",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "60",
                              "type" : "Literal"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "46:60-46:61",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "47:5-47:56",
                  "when" : {
                     "locator" : "47:10-47:12",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "d",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "47:19-47:56",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "47:19-47:51",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "47:19-47:27",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "47:31-47:51",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "47:32-47:35",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "47:39-47:50",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "47:39-47:44",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "47:55-47:56",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "24",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "48:5-48:63",
                  "when" : {
                     "locator" : "48:10-48:13",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "wk",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "48:20-48:63",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "48:20-48:52",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "48:20-48:28",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "48:32-48:52",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "48:33-48:36",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "48:40-48:51",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "48:40-48:45",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "48:56-48:63",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "48:57-48:58",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "48:62",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "7",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "49:5-49:64",
                  "when" : {
                     "locator" : "49:10-49:13",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "mo",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "49:20-49:64",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "49:20-49:52",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "49:20-49:28",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "49:32-49:52",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "49:33-49:36",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "49:40-49:51",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "49:40-49:45",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "49:56-49:64",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "49:57-49:58",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "49:62-49:63",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "30",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "50:5-50:64",
                  "when" : {
                     "locator" : "50:10-50:12",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "a",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "50:19-50:64",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "50:19-50:51",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "50:19-50:27",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "50:31-50:51",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "50:32-50:35",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "50:39-50:50",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "50:39-50:44",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "50:55-50:64",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "50:56-50:57",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "50:61-50:63",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "365",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "51:5-51:54",
                  "when" : {
                     "locator" : "51:10-51:15",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "hour",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "51:22-51:54",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "51:22-51:30",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "name" : "frequency",
                           "type" : "OperandRef"
                        }
                     }, {
                        "locator" : "51:34-51:54",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Divide",
                        "operand" : [ {
                           "locator" : "51:35-51:38",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "locator" : "51:42-51:53",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "locator" : "51:42-51:47",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "name" : "period",
                              "type" : "OperandRef"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "locator" : "52:5-52:61",
                  "when" : {
                     "locator" : "52:10-52:17",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "minute",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "52:24-52:61",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "locator" : "52:24-52:56",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "52:24-52:32",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "52:36-52:56",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "52:37-52:40",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "52:44-52:55",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "52:44-52:49",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "52:60-52:61",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "53:5-53:66",
                  "when" : {
                     "locator" : "53:10-53:17",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "second",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "53:24-53:66",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "locator" : "53:24-53:61",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "locator" : "53:24-53:56",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Multiply",
                           "operand" : [ {
                              "type" : "ToDecimal",
                              "operand" : {
                                 "locator" : "53:24-53:32",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "name" : "frequency",
                                 "type" : "OperandRef"
                              }
                           }, {
                              "locator" : "53:36-53:56",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "type" : "Divide",
                              "operand" : [ {
                                 "locator" : "53:37-53:40",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "value" : "24.0",
                                 "type" : "Literal"
                              }, {
                                 "locator" : "53:44-53:55",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "53:44-53:49",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "name" : "period",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "53:60-53:61",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "60",
                              "type" : "Literal"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "53:65-53:66",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "54:5-54:58",
                  "when" : {
                     "locator" : "54:10-54:14",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "day",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "54:21-54:58",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "54:21-54:53",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "54:21-54:29",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "54:33-54:53",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "54:34-54:37",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "54:41-54:52",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "54:41-54:46",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "54:57-54:58",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "24",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "55:5-55:65",
                  "when" : {
                     "locator" : "55:10-55:15",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "week",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "55:22-55:65",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "55:22-55:54",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "55:22-55:30",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "55:34-55:54",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "55:35-55:38",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "55:42-55:53",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "55:42-55:47",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "55:58-55:65",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "55:59-55:60",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "55:64",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "7",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "56:5-56:67",
                  "when" : {
                     "locator" : "56:10-56:16",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "month",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "56:23-56:67",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "56:23-56:55",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "56:23-56:31",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "56:35-56:55",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "56:36-56:39",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "56:43-56:54",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "56:43-56:48",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "56:59-56:67",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "56:60-56:61",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "56:65-56:66",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "30",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "57:5-57:67",
                  "when" : {
                     "locator" : "57:10-57:15",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "year",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "57:22-57:67",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "57:22-57:54",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "57:22-57:30",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "57:34-57:54",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "57:35-57:38",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "57:42-57:53",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "57:42-57:47",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "57:58-57:67",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "57:59-57:60",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "57:64-57:66",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "365",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "58:5-58:55",
                  "when" : {
                     "locator" : "58:10-58:16",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "hours",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "58:23-58:55",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "58:23-58:31",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "name" : "frequency",
                           "type" : "OperandRef"
                        }
                     }, {
                        "locator" : "58:35-58:55",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Divide",
                        "operand" : [ {
                           "locator" : "58:36-58:39",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "24.0",
                           "type" : "Literal"
                        }, {
                           "locator" : "58:43-58:54",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "locator" : "58:43-58:48",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "name" : "period",
                              "type" : "OperandRef"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "locator" : "59:5-59:62",
                  "when" : {
                     "locator" : "59:10-59:18",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "minutes",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "59:25-59:62",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "locator" : "59:25-59:57",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "59:25-59:33",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "59:37-59:57",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "59:38-59:41",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "59:45-59:56",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "59:45-59:50",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "59:61-59:62",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "60:5-60:67",
                  "when" : {
                     "locator" : "60:10-60:18",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "seconds",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "60:25-60:67",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Multiply",
                     "operand" : [ {
                        "locator" : "60:25-60:62",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "locator" : "60:25-60:57",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Multiply",
                           "operand" : [ {
                              "type" : "ToDecimal",
                              "operand" : {
                                 "locator" : "60:25-60:33",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "name" : "frequency",
                                 "type" : "OperandRef"
                              }
                           }, {
                              "locator" : "60:37-60:57",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "type" : "Divide",
                              "operand" : [ {
                                 "locator" : "60:38-60:41",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "value" : "24.0",
                                 "type" : "Literal"
                              }, {
                                 "locator" : "60:45-60:56",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "60:45-60:50",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "name" : "period",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "60:61-60:62",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "60",
                              "type" : "Literal"
                           }
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "60:66-60:67",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "61:5-61:59",
                  "when" : {
                     "locator" : "61:10-61:15",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "days",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "61:22-61:59",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "61:22-61:54",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "61:22-61:30",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "61:34-61:54",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "61:35-61:38",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "61:42-61:53",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "61:42-61:47",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "61:58-61:59",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "24",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "locator" : "62:5-62:66",
                  "when" : {
                     "locator" : "62:10-62:16",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "weeks",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "62:23-62:66",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "62:23-62:55",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "62:23-62:31",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "62:35-62:55",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "62:36-62:39",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "62:43-62:54",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "62:43-62:48",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "62:59-62:66",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "62:60-62:61",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "62:65",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "7",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "63:5-63:68",
                  "when" : {
                     "locator" : "63:10-63:17",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "months",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "63:24-63:68",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "63:24-63:56",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "63:24-63:32",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "63:36-63:56",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "63:37-63:40",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "63:44-63:55",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "63:44-63:49",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "63:60-63:68",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "63:61-63:62",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "63:66-63:67",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "30",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "locator" : "64:5-64:68",
                  "when" : {
                     "locator" : "64:10-64:16",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "years",
                     "type" : "Literal"
                  },
                  "then" : {
                     "locator" : "64:23-64:68",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Divide",
                     "operand" : [ {
                        "locator" : "64:23-64:55",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "type" : "Multiply",
                        "operand" : [ {
                           "type" : "ToDecimal",
                           "operand" : {
                              "locator" : "64:23-64:31",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "name" : "frequency",
                              "type" : "OperandRef"
                           }
                        }, {
                           "locator" : "64:35-64:55",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "Divide",
                           "operand" : [ {
                              "locator" : "64:36-64:39",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "value" : "24.0",
                              "type" : "Literal"
                           }, {
                              "locator" : "64:43-64:54",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "64:43-64:48",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "64:59-64:68",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Multiply",
                           "operand" : [ {
                              "locator" : "64:60-64:61",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "24",
                              "type" : "Literal"
                           }, {
                              "locator" : "64:65-64:67",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "365",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "type" : "As",
                  "operand" : {
                     "locator" : "65:10-65:103",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                     "type" : "Message",
                     "source" : {
                        "locator" : "65:18-65:21",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                        "type" : "Null"
                     },
                     "condition" : {
                        "locator" : "65:24-65:27",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "value" : "true",
                        "type" : "Literal"
                     },
                     "code" : {
                        "locator" : "65:30-65:59",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CMDLogic.ToDaily.UnknownUnit",
                        "type" : "Literal"
                     },
                     "severity" : {
                        "locator" : "65:62-65:71",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                        "name" : "ErrorLevel",
                        "type" : "ParameterRef"
                     },
                     "message" : {
                        "locator" : "65:74-65:102",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                        "type" : "Concatenate",
                        "operand" : [ {
                           "type" : "Coalesce",
                           "operand" : [ {
                              "locator" : "65:74-65:88",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Unknown unit ",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "Coalesce",
                           "operand" : [ {
                              "locator" : "65:92-65:102",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "65:92-65:97",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "period",
                                 "type" : "OperandRef"
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "",
                              "type" : "Literal"
                           } ]
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "frequency",
               "operandTypeSpecifier" : {
                  "locator" : "42:37-42:50",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                  "name" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "period",
               "operandTypeSpecifier" : {
                  "locator" : "42:60-42:74",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "locator" : "72:1-77:5",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
            "name" : "ToDaily",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "locator" : "73:3-77:5",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
               "type" : "Case",
               "comparand" : {
                  "locator" : "73:8-73:16",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
                  "name" : "frequency",
                  "type" : "OperandRef"
               },
               "caseItem" : [ {
                  "locator" : "74:5-74:21",
                  "when" : {
                     "locator" : "74:10-74:12",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
                     "name" : "C",
                     "type" : "CodeRef"
                  },
                  "then" : {
                     "locator" : "74:19-74:21",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "3.0",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "type" : "As",
                  "operand" : {
                     "locator" : "76:10-76:125",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                     "type" : "Message",
                     "source" : {
                        "locator" : "76:18-76:21",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                        "type" : "Null"
                     },
                     "condition" : {
                        "locator" : "76:24-76:27",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "value" : "true",
                        "type" : "Literal"
                     },
                     "code" : {
                        "locator" : "76:30-76:68",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CMDLogic.ToDaily.UnknownFrequencyCode",
                        "type" : "Literal"
                     },
                     "severity" : {
                        "locator" : "76:71-76:80",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                        "name" : "ErrorLevel",
                        "type" : "ParameterRef"
                     },
                     "message" : {
                        "locator" : "76:83-76:124",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                        "type" : "Concatenate",
                        "operand" : [ {
                           "type" : "Coalesce",
                           "operand" : [ {
                              "locator" : "76:83-76:107",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Unknown frequency code ",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "Coalesce",
                           "operand" : [ {
                              "locator" : "76:111-76:124",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                              "path" : "code",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "76:111-76:119",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
                                 "name" : "frequency",
                                 "type" : "OperandRef"
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "",
                              "type" : "Literal"
                           } ]
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "frequency",
               "operandTypeSpecifier" : {
                  "locator" : "72:37-72:40",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Code",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "locator" : "154:1-180:110",
            "name" : "MedicationRequestPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "resultTypeSpecifier" : {
               "type" : "IntervalTypeSpecifier",
               "pointType" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            },
            "expression" : {
               "locator" : "155:3-180:110",
               "type" : "Query",
               "resultTypeSpecifier" : {
                  "type" : "IntervalTypeSpecifier",
                  "pointType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "NamedTypeSpecifier"
                  }
               },
               "source" : [ {
                  "locator" : "155:3-155:11",
                  "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                  "alias" : "R",
                  "expression" : {
                     "locator" : "155:3-155:9",
                     "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                     "name" : "Request",
                     "type" : "OperandRef"
                  }
               } ],
               "let" : [ {
                  "locator" : "157:7-157:48",
                  "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                  "identifier" : "dosage",
                  "expression" : {
                     "locator" : "157:15-157:48",
                     "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                     "type" : "SingletonFrom",
                     "operand" : {
                        "locator" : "157:30-157:48",
                        "path" : "dosageInstruction",
                        "scope" : "R",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}Dosage",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }, {
                  "locator" : "158:7-158:52",
                  "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                  "identifier" : "doseAndRate",
                  "expression" : {
                     "locator" : "158:20-158:52",
                     "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                     "type" : "SingletonFrom",
                     "operand" : {
                        "locator" : "158:35-158:52",
                        "path" : "doseAndRate",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                              "type" : "NamedTypeSpecifier"
                           }
                        },
                        "source" : {
                           "locator" : "158:35-158:40",
                           "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                           "name" : "dosage",
                           "type" : "QueryLetRef"
                        }
                     }
                  }
               }, {
                  "locator" : "159:7-159:42",
                  "resultTypeName" : "{http://hl7.org/fhir}Range",
                  "identifier" : "doseRange",
                  "expression" : {
                     "locator" : "159:18-159:42",
                     "resultTypeName" : "{http://hl7.org/fhir}Range",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "locator" : "159:18-159:33",
                        "path" : "dose",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}Range",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}SimpleQuantity",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        },
                        "source" : {
                           "locator" : "159:18-159:28",
                           "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                           "name" : "doseAndRate",
                           "type" : "QueryLetRef"
                        }
                     },
                     "asTypeSpecifier" : {
                        "locator" : "159:38-159:42",
                        "resultTypeName" : "{http://hl7.org/fhir}Range",
                        "name" : "{http://hl7.org/fhir}Range",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }, {
                  "locator" : "160:7-160:54",
                  "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                  "identifier" : "doseQuantity",
                  "expression" : {
                     "locator" : "160:21-160:54",
                     "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "locator" : "160:21-160:36",
                        "path" : "dose",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}Range",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}SimpleQuantity",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        },
                        "source" : {
                           "locator" : "160:21-160:31",
                           "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                           "name" : "doseAndRate",
                           "type" : "QueryLetRef"
                        }
                     },
                     "asTypeSpecifier" : {
                        "locator" : "160:41-160:54",
                        "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                        "name" : "{http://hl7.org/fhir}SimpleQuantity",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }, {
                  "locator" : "161:7-161:52",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "identifier" : "dose",
                  "expression" : {
                     "locator" : "161:13-161:52",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "161:22-161:37",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                        "type" : "End",
                        "operand" : {
                           "name" : "ToInterval",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "161:29-161:37",
                              "resultTypeName" : "{http://hl7.org/fhir}Range",
                              "name" : "doseRange",
                              "type" : "QueryLetRef"
                           } ]
                        }
                     }, {
                        "name" : "ToQuantity",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "locator" : "161:40-161:51",
                           "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                           "name" : "doseQuantity",
                           "type" : "QueryLetRef"
                        } ]
                     } ]
                  }
               }, {
                  "locator" : "162:7-162:27",
                  "resultTypeName" : "{http://hl7.org/fhir}Timing",
                  "identifier" : "timing",
                  "expression" : {
                     "locator" : "162:15-162:27",
                     "resultTypeName" : "{http://hl7.org/fhir}Timing",
                     "path" : "timing",
                     "type" : "Property",
                     "source" : {
                        "locator" : "162:15-162:20",
                        "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                        "name" : "dosage",
                        "type" : "QueryLetRef"
                     }
                  }
               }, {
                  "locator" : "163:7-163:78",
                  "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                  "identifier" : "frequency",
                  "expression" : {
                     "locator" : "163:18-163:78",
                     "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "163:27-163:52",
                        "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                        "path" : "frequencyMax",
                        "type" : "Property",
                        "source" : {
                           "locator" : "163:27-163:39",
                           "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                           "path" : "repeat",
                           "type" : "Property",
                           "source" : {
                              "locator" : "163:27-163:32",
                              "resultTypeName" : "{http://hl7.org/fhir}Timing",
                              "name" : "timing",
                              "type" : "QueryLetRef"
                           }
                        }
                     }, {
                        "locator" : "163:55-163:77",
                        "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                        "path" : "frequency",
                        "type" : "Property",
                        "source" : {
                           "locator" : "163:55-163:67",
                           "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                           "path" : "repeat",
                           "type" : "Property",
                           "source" : {
                              "locator" : "163:55-163:60",
                              "resultTypeName" : "{http://hl7.org/fhir}Timing",
                              "name" : "timing",
                              "type" : "QueryLetRef"
                           }
                        }
                     } ]
                  }
               }, {
                  "locator" : "164:7-164:99",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "identifier" : "period",
                  "expression" : {
                     "locator" : "164:15-164:99",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "Instance",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "name" : "ToDecimal",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "164:40-164:59",
                              "resultTypeName" : "{http://hl7.org/fhir}decimal",
                              "path" : "period",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "164:40-164:52",
                                 "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                                 "path" : "repeat",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "164:40-164:45",
                                    "resultTypeName" : "{http://hl7.org/fhir}Timing",
                                    "name" : "timing",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "unit",
                        "value" : {
                           "locator" : "164:68-164:97",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "locator" : "164:68-164:91",
                              "resultTypeName" : "{http://hl7.org/fhir}UnitsOfTime",
                              "path" : "periodUnit",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "164:68-164:80",
                                 "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                                 "path" : "repeat",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "164:68-164:73",
                                    "resultTypeName" : "{http://hl7.org/fhir}Timing",
                                    "name" : "timing",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           }
                        }
                     } ]
                  }
               }, {
                  "locator" : "165:7-165:92",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "identifier" : "dosesPerDay",
                  "expression" : {
                     "locator" : "165:20-165:92",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "165:29-165:54",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "name" : "ToDaily",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "ToInteger",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "165:37-165:45",
                              "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                              "name" : "frequency",
                              "type" : "QueryLetRef"
                           } ]
                        }, {
                           "locator" : "165:48-165:53",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                           "name" : "period",
                           "type" : "QueryLetRef"
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "165:57-165:86",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Count",
                           "source" : {
                              "locator" : "165:63-165:85",
                              "path" : "timeOfDay",
                              "type" : "Property",
                              "resultTypeSpecifier" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "name" : "{http://hl7.org/fhir}time",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              },
                              "source" : {
                                 "locator" : "165:63-165:75",
                                 "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                                 "path" : "repeat",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "165:63-165:68",
                                    "resultTypeName" : "{http://hl7.org/fhir}Timing",
                                    "name" : "timing",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           }
                        }
                     }, {
                        "locator" : "165:89-165:91",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "value" : "1.0",
                        "type" : "Literal"
                     } ]
                  }
               }, {
                  "locator" : "166:7-166:50",
                  "resultTypeName" : "{http://hl7.org/fhir}Period",
                  "identifier" : "boundsPeriod",
                  "expression" : {
                     "locator" : "166:21-166:50",
                     "resultTypeName" : "{http://hl7.org/fhir}Period",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "locator" : "166:21-166:40",
                        "path" : "bounds",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}Duration",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}Range",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}Period",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        },
                        "source" : {
                           "locator" : "166:21-166:33",
                           "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                           "path" : "repeat",
                           "type" : "Property",
                           "source" : {
                              "locator" : "166:21-166:26",
                              "resultTypeName" : "{http://hl7.org/fhir}Timing",
                              "name" : "timing",
                              "type" : "QueryLetRef"
                           }
                        }
                     },
                     "asTypeSpecifier" : {
                        "locator" : "166:45-166:50",
                        "resultTypeName" : "{http://hl7.org/fhir}Period",
                        "name" : "{http://hl7.org/fhir}Period",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }, {
                  "locator" : "167:7-167:58",
                  "resultTypeName" : "{http://hl7.org/fhir}Duration",
                  "identifier" : "daysSupply",
                  "expression" : {
                     "locator" : "167:19-167:58",
                     "resultTypeName" : "{http://hl7.org/fhir}Duration",
                     "path" : "expectedSupplyDuration",
                     "type" : "Property",
                     "source" : {
                        "locator" : "167:19-167:35",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest.DispenseRequest",
                        "path" : "dispenseRequest",
                        "scope" : "R",
                        "type" : "Property"
                     }
                  }
               }, {
                  "locator" : "168:7-168:42",
                  "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                  "identifier" : "quantity",
                  "expression" : {
                     "locator" : "168:17-168:42",
                     "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                     "path" : "quantity",
                     "type" : "Property",
                     "source" : {
                        "locator" : "168:17-168:33",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest.DispenseRequest",
                        "path" : "dispenseRequest",
                        "scope" : "R",
                        "type" : "Property"
                     }
                  }
               }, {
                  "locator" : "169:7-169:68",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                  "identifier" : "refills",
                  "expression" : {
                     "locator" : "169:16-169:68",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "name" : "ToInteger",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "locator" : "169:25-169:64",
                           "resultTypeName" : "{http://hl7.org/fhir}unsignedInt",
                           "path" : "numberOfRepeatsAllowed",
                           "type" : "Property",
                           "source" : {
                              "locator" : "169:25-169:41",
                              "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest.DispenseRequest",
                              "path" : "dispenseRequest",
                              "scope" : "R",
                              "type" : "Property"
                           }
                        } ]
                     }, {
                        "locator" : "169:67",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     } ]
                  }
               }, {
                  "locator" : "170:7-175:9",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "identifier" : "startDate",
                  "expression" : {
                     "locator" : "171:9-175:9",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "172:11-172:31",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "Start",
                        "operand" : {
                           "name" : "ToInterval",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "172:20-172:31",
                              "resultTypeName" : "{http://hl7.org/fhir}Period",
                              "name" : "boundsPeriod",
                              "type" : "QueryLetRef"
                           } ]
                        }
                     }, {
                        "locator" : "173:11-173:51",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "Start",
                        "operand" : {
                           "name" : "ToInterval",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "173:20-173:51",
                              "resultTypeName" : "{http://hl7.org/fhir}Period",
                              "path" : "validityPeriod",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "173:20-173:36",
                                 "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest.DispenseRequest",
                                 "path" : "dispenseRequest",
                                 "scope" : "R",
                                 "type" : "Property"
                              }
                           } ]
                        }
                     }, {
                        "name" : "ToDateTime",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "locator" : "174:11-174:22",
                           "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                           "path" : "authoredOn",
                           "scope" : "R",
                           "type" : "Property"
                        } ]
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "locator" : "176:5-180:110",
                  "resultTypeSpecifier" : {
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "expression" : {
                     "locator" : "177:7-180:110",
                     "type" : "If",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "condition" : {
                        "locator" : "177:10-177:84",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "Not",
                        "operand" : {
                           "locator" : "177:14-177:84",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "Or",
                           "operand" : [ {
                              "locator" : "177:15-177:41",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "IsNull",
                              "operand" : {
                                 "locator" : "177:15-177:33",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "End",
                                 "operand" : {
                                    "name" : "ToInterval",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "locator" : "177:22-177:33",
                                       "resultTypeName" : "{http://hl7.org/fhir}Period",
                                       "name" : "boundsPeriod",
                                       "type" : "QueryLetRef"
                                    } ]
                                 }
                              }
                           }, {
                              "locator" : "177:46-177:83",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "Equal",
                              "operand" : [ {
                                 "locator" : "177:46-177:64",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "End",
                                 "operand" : {
                                    "name" : "ToInterval",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "locator" : "177:53-177:64",
                                       "resultTypeName" : "{http://hl7.org/fhir}Period",
                                       "name" : "boundsPeriod",
                                       "type" : "QueryLetRef"
                                    } ]
                                 }
                              }, {
                                 "locator" : "177:68-177:83",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "MaxValue"
                              } ]
                           } ]
                        }
                     },
                     "then" : {
                        "locator" : "178:9-178:48",
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "resultTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        },
                        "low" : {
                           "locator" : "178:18-178:26",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        },
                        "high" : {
                           "locator" : "178:29-178:47",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "End",
                           "operand" : {
                              "name" : "ToInterval",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "locator" : "178:36-178:47",
                                 "resultTypeName" : "{http://hl7.org/fhir}Period",
                                 "name" : "boundsPeriod",
                                 "type" : "QueryLetRef"
                              } ]
                           }
                        }
                     },
                     "else" : {
                        "locator" : "180:9-180:110",
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "resultTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        },
                        "low" : {
                           "locator" : "180:18-180:26",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        },
                        "high" : {
                           "locator" : "180:29-180:109",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "Add",
                           "operand" : [ {
                              "locator" : "180:29-180:37",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "name" : "startDate",
                              "type" : "QueryLetRef"
                           }, {
                              "locator" : "180:41-180:109",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "type" : "Multiply",
                              "operand" : [ {
                                 "locator" : "180:41-180:93",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "type" : "Coalesce",
                                 "operand" : [ {
                                    "name" : "ToQuantity",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "locator" : "180:50-180:59",
                                       "resultTypeName" : "{http://hl7.org/fhir}Duration",
                                       "name" : "daysSupply",
                                       "type" : "QueryLetRef"
                                    } ]
                                 }, {
                                    "locator" : "180:62-180:92",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "type" : "Divide",
                                    "operand" : [ {
                                       "name" : "ToQuantity",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "locator" : "180:62-180:69",
                                          "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                                          "name" : "quantity",
                                          "type" : "QueryLetRef"
                                       } ]
                                    }, {
                                       "locator" : "180:73-180:92",
                                       "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                       "type" : "Multiply",
                                       "operand" : [ {
                                          "locator" : "180:74-180:77",
                                          "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                          "name" : "dose",
                                          "type" : "QueryLetRef"
                                       }, {
                                          "type" : "ToQuantity",
                                          "operand" : {
                                             "locator" : "180:81-180:91",
                                             "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                             "name" : "dosesPerDay",
                                             "type" : "QueryLetRef"
                                          }
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "type" : "ToQuantity",
                                 "operand" : {
                                    "locator" : "180:97-180:109",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "type" : "Add",
                                    "operand" : [ {
                                       "locator" : "180:98",
                                       "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "1",
                                       "type" : "Literal"
                                    }, {
                                       "locator" : "180:102-180:108",
                                       "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "name" : "refills",
                                       "type" : "QueryLetRef"
                                    } ]
                                 }
                              } ]
                           } ]
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Request",
               "operandTypeSpecifier" : {
                  "locator" : "154:51-154:69",
                  "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                  "name" : "{http://hl7.org/fhir}MedicationRequest",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "locator" : "262:1-280:98",
            "name" : "MedicationDispensePeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "resultTypeSpecifier" : {
               "type" : "IntervalTypeSpecifier",
               "pointType" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            },
            "expression" : {
               "locator" : "263:3-280:98",
               "type" : "Query",
               "resultTypeSpecifier" : {
                  "type" : "IntervalTypeSpecifier",
                  "pointType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "NamedTypeSpecifier"
                  }
               },
               "source" : [ {
                  "locator" : "263:3-263:12",
                  "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                  "alias" : "D",
                  "expression" : {
                     "locator" : "263:3-263:10",
                     "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                     "name" : "Dispense",
                     "type" : "OperandRef"
                  }
               } ],
               "let" : [ {
                  "locator" : "265:7-265:48",
                  "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                  "identifier" : "dosage",
                  "expression" : {
                     "locator" : "265:15-265:48",
                     "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                     "type" : "SingletonFrom",
                     "operand" : {
                        "locator" : "265:30-265:48",
                        "path" : "dosageInstruction",
                        "scope" : "D",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}Dosage",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }, {
                  "locator" : "266:7-266:52",
                  "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                  "identifier" : "doseAndRate",
                  "expression" : {
                     "locator" : "266:20-266:52",
                     "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                     "type" : "SingletonFrom",
                     "operand" : {
                        "locator" : "266:35-266:52",
                        "path" : "doseAndRate",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                              "type" : "NamedTypeSpecifier"
                           }
                        },
                        "source" : {
                           "locator" : "266:35-266:40",
                           "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                           "name" : "dosage",
                           "type" : "QueryLetRef"
                        }
                     }
                  }
               }, {
                  "locator" : "267:7-267:42",
                  "resultTypeName" : "{http://hl7.org/fhir}Range",
                  "identifier" : "doseRange",
                  "expression" : {
                     "locator" : "267:18-267:42",
                     "resultTypeName" : "{http://hl7.org/fhir}Range",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "locator" : "267:18-267:33",
                        "path" : "dose",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}Range",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}SimpleQuantity",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        },
                        "source" : {
                           "locator" : "267:18-267:28",
                           "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                           "name" : "doseAndRate",
                           "type" : "QueryLetRef"
                        }
                     },
                     "asTypeSpecifier" : {
                        "locator" : "267:38-267:42",
                        "resultTypeName" : "{http://hl7.org/fhir}Range",
                        "name" : "{http://hl7.org/fhir}Range",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }, {
                  "locator" : "268:7-268:54",
                  "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                  "identifier" : "doseQuantity",
                  "expression" : {
                     "locator" : "268:21-268:54",
                     "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                     "strict" : false,
                     "type" : "As",
                     "operand" : {
                        "locator" : "268:21-268:36",
                        "path" : "dose",
                        "type" : "Property",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}Range",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}SimpleQuantity",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        },
                        "source" : {
                           "locator" : "268:21-268:31",
                           "resultTypeName" : "{http://hl7.org/fhir}Dosage.DoseAndRate",
                           "name" : "doseAndRate",
                           "type" : "QueryLetRef"
                        }
                     },
                     "asTypeSpecifier" : {
                        "locator" : "268:41-268:54",
                        "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                        "name" : "{http://hl7.org/fhir}SimpleQuantity",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }, {
                  "locator" : "269:7-269:52",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "identifier" : "dose",
                  "expression" : {
                     "locator" : "269:13-269:52",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "269:22-269:37",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                        "type" : "End",
                        "operand" : {
                           "name" : "ToInterval",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "269:29-269:37",
                              "resultTypeName" : "{http://hl7.org/fhir}Range",
                              "name" : "doseRange",
                              "type" : "QueryLetRef"
                           } ]
                        }
                     }, {
                        "name" : "ToQuantity",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "locator" : "269:40-269:51",
                           "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                           "name" : "doseQuantity",
                           "type" : "QueryLetRef"
                        } ]
                     } ]
                  }
               }, {
                  "locator" : "270:7-270:27",
                  "resultTypeName" : "{http://hl7.org/fhir}Timing",
                  "identifier" : "timing",
                  "expression" : {
                     "locator" : "270:15-270:27",
                     "resultTypeName" : "{http://hl7.org/fhir}Timing",
                     "path" : "timing",
                     "type" : "Property",
                     "source" : {
                        "locator" : "270:15-270:20",
                        "resultTypeName" : "{http://hl7.org/fhir}Dosage",
                        "name" : "dosage",
                        "type" : "QueryLetRef"
                     }
                  }
               }, {
                  "locator" : "271:7-271:78",
                  "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                  "identifier" : "frequency",
                  "expression" : {
                     "locator" : "271:18-271:78",
                     "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "271:27-271:52",
                        "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                        "path" : "frequencyMax",
                        "type" : "Property",
                        "source" : {
                           "locator" : "271:27-271:39",
                           "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                           "path" : "repeat",
                           "type" : "Property",
                           "source" : {
                              "locator" : "271:27-271:32",
                              "resultTypeName" : "{http://hl7.org/fhir}Timing",
                              "name" : "timing",
                              "type" : "QueryLetRef"
                           }
                        }
                     }, {
                        "locator" : "271:55-271:77",
                        "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                        "path" : "frequency",
                        "type" : "Property",
                        "source" : {
                           "locator" : "271:55-271:67",
                           "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                           "path" : "repeat",
                           "type" : "Property",
                           "source" : {
                              "locator" : "271:55-271:60",
                              "resultTypeName" : "{http://hl7.org/fhir}Timing",
                              "name" : "timing",
                              "type" : "QueryLetRef"
                           }
                        }
                     } ]
                  }
               }, {
                  "locator" : "272:7-272:99",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "identifier" : "period",
                  "expression" : {
                     "locator" : "272:15-272:99",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "Instance",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "name" : "ToDecimal",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "272:40-272:59",
                              "resultTypeName" : "{http://hl7.org/fhir}decimal",
                              "path" : "period",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "272:40-272:52",
                                 "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                                 "path" : "repeat",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "272:40-272:45",
                                    "resultTypeName" : "{http://hl7.org/fhir}Timing",
                                    "name" : "timing",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "unit",
                        "value" : {
                           "locator" : "272:68-272:97",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "locator" : "272:68-272:91",
                              "resultTypeName" : "{http://hl7.org/fhir}UnitsOfTime",
                              "path" : "periodUnit",
                              "type" : "Property",
                              "source" : {
                                 "locator" : "272:68-272:80",
                                 "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                                 "path" : "repeat",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "272:68-272:73",
                                    "resultTypeName" : "{http://hl7.org/fhir}Timing",
                                    "name" : "timing",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           }
                        }
                     } ]
                  }
               }, {
                  "locator" : "273:7-273:92",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "identifier" : "dosesPerDay",
                  "expression" : {
                     "locator" : "273:20-273:92",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "273:29-273:54",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "name" : "ToDaily",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "ToInteger",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "273:37-273:45",
                              "resultTypeName" : "{http://hl7.org/fhir}positiveInt",
                              "name" : "frequency",
                              "type" : "QueryLetRef"
                           } ]
                        }, {
                           "locator" : "273:48-273:53",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                           "name" : "period",
                           "type" : "QueryLetRef"
                        } ]
                     }, {
                        "type" : "ToDecimal",
                        "operand" : {
                           "locator" : "273:57-273:86",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "Count",
                           "source" : {
                              "locator" : "273:63-273:85",
                              "path" : "timeOfDay",
                              "type" : "Property",
                              "resultTypeSpecifier" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "name" : "{http://hl7.org/fhir}time",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              },
                              "source" : {
                                 "locator" : "273:63-273:75",
                                 "resultTypeName" : "{http://hl7.org/fhir}Timing.Repeat",
                                 "path" : "repeat",
                                 "type" : "Property",
                                 "source" : {
                                    "locator" : "273:63-273:68",
                                    "resultTypeName" : "{http://hl7.org/fhir}Timing",
                                    "name" : "timing",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           }
                        }
                     }, {
                        "locator" : "273:89-273:91",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                        "value" : "1.0",
                        "type" : "Literal"
                     } ]
                  }
               }, {
                  "locator" : "274:7-278:9",
                  "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                  "identifier" : "startDate",
                  "expression" : {
                     "locator" : "275:9-278:9",
                     "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                     "type" : "Coalesce",
                     "operand" : [ {
                        "locator" : "276:11-276:26",
                        "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                        "path" : "whenHandedOver",
                        "scope" : "D",
                        "type" : "Property"
                     }, {
                        "locator" : "277:11-277:24",
                        "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                        "path" : "whenPrepared",
                        "scope" : "D",
                        "type" : "Property"
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "locator" : "279:5-280:98",
                  "resultTypeSpecifier" : {
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "expression" : {
                     "locator" : "280:9-280:98",
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "low" : {
                        "name" : "ToDateTime",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "locator" : "280:18-280:26",
                           "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        } ]
                     },
                     "high" : {
                        "locator" : "280:29-280:97",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "Add",
                        "operand" : [ {
                           "name" : "ToDateTime",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "locator" : "280:29-280:37",
                              "resultTypeName" : "{http://hl7.org/fhir}dateTime",
                              "name" : "startDate",
                              "type" : "QueryLetRef"
                           } ]
                        }, {
                           "locator" : "280:41-280:97",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                           "type" : "Coalesce",
                           "operand" : [ {
                              "name" : "ToQuantity",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "locator" : "280:50-280:61",
                                 "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                                 "path" : "daysSupply",
                                 "scope" : "D",
                                 "type" : "Property"
                              } ]
                           }, {
                              "locator" : "280:64-280:96",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "type" : "Divide",
                              "operand" : [ {
                                 "name" : "ToQuantity",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "locator" : "280:64-280:73",
                                    "resultTypeName" : "{http://hl7.org/fhir}SimpleQuantity",
                                    "path" : "quantity",
                                    "scope" : "D",
                                    "type" : "Property"
                                 } ]
                              }, {
                                 "locator" : "280:77-280:96",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "type" : "Multiply",
                                 "operand" : [ {
                                    "locator" : "280:78-280:81",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "name" : "dose",
                                    "type" : "QueryLetRef"
                                 }, {
                                    "type" : "ToQuantity",
                                    "operand" : {
                                       "locator" : "280:85-280:95",
                                       "resultTypeName" : "{urn:hl7-org:elm-types:r1}Decimal",
                                       "name" : "dosesPerDay",
                                       "type" : "QueryLetRef"
                                    }
                                 } ]
                              } ]
                           } ]
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Dispense",
               "operandTypeSpecifier" : {
                  "locator" : "262:53-262:72",
                  "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                  "name" : "{http://hl7.org/fhir}MedicationDispense",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "locator" : "286:1-287:9",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
            "name" : "TherapeuticDuration",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "locator" : "287:3-287:9",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
               "value" : 14,
               "unit" : "days",
               "type" : "Quantity"
            },
            "operand" : [ {
               "name" : "medication",
               "operandTypeSpecifier" : {
                  "locator" : "286:50-286:56",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Concept",
                  "name" : "{urn:hl7-org:elm-types:r1}Concept",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "locator" : "306:1-315:12",
            "name" : "MedicationAdministrationPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "resultTypeSpecifier" : {
               "type" : "IntervalTypeSpecifier",
               "pointType" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            },
            "expression" : {
               "locator" : "307:3-315:12",
               "type" : "Query",
               "resultTypeSpecifier" : {
                  "type" : "IntervalTypeSpecifier",
                  "pointType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "NamedTypeSpecifier"
                  }
               },
               "source" : [ {
                  "locator" : "307:3-307:18",
                  "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                  "alias" : "M",
                  "expression" : {
                     "locator" : "307:3-307:16",
                     "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                     "name" : "Administration",
                     "type" : "OperandRef"
                  }
               } ],
               "let" : [ {
                  "locator" : "309:7-309:73",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "identifier" : "therapeuticDuration",
                  "expression" : {
                     "locator" : "309:28-309:73",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "name" : "TherapeuticDuration",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "ToConcept",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "asType" : "{http://hl7.org/fhir}CodeableConcept",
                           "type" : "As",
                           "operand" : {
                              "locator" : "309:48-309:72",
                              "path" : "medication",
                              "type" : "Property",
                              "resultTypeSpecifier" : {
                                 "type" : "ChoiceTypeSpecifier",
                                 "choice" : [ {
                                    "name" : "{http://hl7.org/fhir}CodeableConcept",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}Reference",
                                    "type" : "NamedTypeSpecifier"
                                 } ]
                              },
                              "source" : {
                                 "locator" : "309:48-309:61",
                                 "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "name" : "Administration",
                                 "type" : "OperandRef"
                              }
                           }
                        } ]
                     } ]
                  }
               }, {
                  "locator" : "310:7-310:50",
                  "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "identifier" : "startDate",
                  "expression" : {
                     "locator" : "310:18-310:50",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "Start",
                     "operand" : {
                        "name" : "ToInterval",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "asType" : "{http://hl7.org/fhir}Period",
                           "type" : "As",
                           "operand" : {
                              "locator" : "310:27-310:50",
                              "path" : "effective",
                              "type" : "Property",
                              "resultTypeSpecifier" : {
                                 "type" : "ChoiceTypeSpecifier",
                                 "choice" : [ {
                                    "name" : "{http://hl7.org/fhir}dateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}Period",
                                    "type" : "NamedTypeSpecifier"
                                 } ]
                              },
                              "source" : {
                                 "locator" : "310:27-310:40",
                                 "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "name" : "Administration",
                                 "type" : "OperandRef"
                              }
                           }
                        } ]
                     }
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "locator" : "311:5-315:12",
                  "resultTypeSpecifier" : {
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "expression" : {
                     "locator" : "312:7-315:12",
                     "type" : "If",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "condition" : {
                        "locator" : "312:10-312:66",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "And",
                        "operand" : [ {
                           "locator" : "312:10-312:30",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "312:10-312:30",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "IsNull",
                              "operand" : {
                                 "locator" : "312:10-312:18",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "name" : "startDate",
                                 "type" : "QueryLetRef"
                              }
                           }
                        }, {
                           "locator" : "312:36-312:66",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "Not",
                           "operand" : {
                              "locator" : "312:36-312:66",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "IsNull",
                              "operand" : {
                                 "locator" : "312:36-312:54",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                 "name" : "therapeuticDuration",
                                 "type" : "QueryLetRef"
                              }
                           }
                        } ]
                     },
                     "then" : {
                        "locator" : "313:9-313:60",
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "resultTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        },
                        "low" : {
                           "locator" : "313:18-313:26",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "name" : "startDate",
                           "type" : "QueryLetRef"
                        },
                        "high" : {
                           "locator" : "313:29-313:59",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "Add",
                           "operand" : [ {
                              "locator" : "313:29-313:37",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "name" : "startDate",
                              "type" : "QueryLetRef"
                           }, {
                              "locator" : "313:41-313:59",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "name" : "therapeuticDuration",
                              "type" : "QueryLetRef"
                           } ]
                        }
                     },
                     "else" : {
                        "type" : "As",
                        "operand" : {
                           "locator" : "315:9-315:12",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "Null"
                        },
                        "asTypeSpecifier" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Administration",
               "operandTypeSpecifier" : {
                  "locator" : "306:65-306:90",
                  "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                  "name" : "{http://hl7.org/fhir}MedicationAdministration",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "locator" : "327:1-328:99",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
            "name" : "CumulativeDuration",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "locator" : "328:3-328:99",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
               "type" : "Sum",
               "source" : {
                  "locator" : "328:7-328:98",
                  "type" : "Query",
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}Integer",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "source" : [ {
                     "locator" : "328:7-328:36",
                     "alias" : "X",
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     },
                     "expression" : {
                        "locator" : "328:7-328:34",
                        "type" : "Collapse",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        },
                        "operand" : [ {
                           "locator" : "328:17-328:25",
                           "name" : "Intervals",
                           "type" : "OperandRef",
                           "resultTypeSpecifier" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }
                           }
                        }, {
                           "value" : 1.0,
                           "unit" : "day",
                           "type" : "Quantity"
                        } ]
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "locator" : "328:38-328:98",
                     "distinct" : false,
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "expression" : {
                        "locator" : "328:49-328:98",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                        "precision" : "Day",
                        "type" : "DifferenceBetween",
                        "operand" : [ {
                           "locator" : "328:76-328:85",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "Start",
                           "operand" : {
                              "locator" : "328:85",
                              "name" : "X",
                              "type" : "AliasRef",
                              "resultTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }
                           }
                        }, {
                           "locator" : "328:91-328:98",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "End",
                           "operand" : {
                              "locator" : "328:98",
                              "name" : "X",
                              "type" : "AliasRef",
                              "resultTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }
                           }
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "Intervals",
               "operandTypeSpecifier" : {
                  "locator" : "327:48-327:71",
                  "type" : "ListTypeSpecifier",
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     }
                  },
                  "elementType" : {
                     "locator" : "327:53-327:70",
                     "type" : "IntervalTypeSpecifier",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "pointType" : {
                        "locator" : "327:62-327:69",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }
            } ]
         }, {
            "locator" : "331:1-340:8",
            "name" : "RolloutIntervals",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "resultTypeSpecifier" : {
               "type" : "ListTypeSpecifier",
               "elementType" : {
                  "type" : "IntervalTypeSpecifier",
                  "pointType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "NamedTypeSpecifier"
                  }
               }
            },
            "expression" : {
               "locator" : "332:3-340:8",
               "type" : "Query",
               "resultTypeSpecifier" : {
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               },
               "source" : [ {
                  "locator" : "332:3-332:13",
                  "alias" : "I",
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     }
                  },
                  "expression" : {
                     "locator" : "332:3-332:11",
                     "name" : "intervals",
                     "type" : "OperandRef",
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               } ],
               "relationship" : [ ],
               "aggregate" : {
                  "locator" : "333:5-340:8",
                  "identifier" : "R",
                  "distinct" : false,
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     }
                  },
                  "expression" : {
                     "locator" : "334:7-340:8",
                     "type" : "Union",
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     },
                     "operand" : [ {
                        "locator" : "334:7",
                        "name" : "R",
                        "type" : "QueryLetRef",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }
                     }, {
                        "locator" : "334:15-340:8",
                        "type" : "List",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        },
                        "element" : [ {
                           "locator" : "335:9-339:31",
                           "type" : "Query",
                           "resultTypeSpecifier" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           },
                           "source" : [ {
                              "locator" : "335:9-335:11",
                              "alias" : "X",
                              "resultTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              },
                              "expression" : {
                                 "locator" : "335:9",
                                 "name" : "I",
                                 "type" : "AliasRef",
                                 "resultTypeSpecifier" : {
                                    "type" : "IntervalTypeSpecifier",
                                    "pointType" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 }
                              }
                           } ],
                           "let" : [ {
                              "locator" : "337:13-337:58",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "identifier" : "S",
                              "expression" : {
                                 "locator" : "337:16-337:58",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "Max",
                                 "source" : {
                                    "locator" : "337:20-337:57",
                                    "type" : "List",
                                    "resultTypeSpecifier" : {
                                       "type" : "ListTypeSpecifier",
                                       "elementType" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    },
                                    "element" : [ {
                                       "locator" : "337:22-337:43",
                                       "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                       "type" : "Add",
                                       "operand" : [ {
                                          "locator" : "337:22-337:35",
                                          "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                          "type" : "End",
                                          "operand" : {
                                             "locator" : "337:29-337:35",
                                             "type" : "Last",
                                             "resultTypeSpecifier" : {
                                                "type" : "IntervalTypeSpecifier",
                                                "pointType" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             },
                                             "source" : {
                                                "locator" : "337:34",
                                                "name" : "R",
                                                "type" : "QueryLetRef",
                                                "resultTypeSpecifier" : {
                                                   "type" : "ListTypeSpecifier",
                                                   "elementType" : {
                                                      "type" : "IntervalTypeSpecifier",
                                                      "pointType" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }
                                                }
                                             }
                                          }
                                       }, {
                                          "locator" : "337:39-337:43",
                                          "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                          "value" : 1,
                                          "unit" : "day",
                                          "type" : "Quantity"
                                       } ]
                                    }, {
                                       "locator" : "337:46-337:55",
                                       "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                       "type" : "Start",
                                       "operand" : {
                                          "locator" : "337:55",
                                          "name" : "X",
                                          "type" : "AliasRef",
                                          "resultTypeSpecifier" : {
                                             "type" : "IntervalTypeSpecifier",
                                             "pointType" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          }
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "locator" : "338:13-338:93",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "identifier" : "E",
                              "expression" : {
                                 "locator" : "338:16-338:93",
                                 "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "Add",
                                 "operand" : [ {
                                    "locator" : "338:16",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "name" : "S",
                                    "type" : "QueryLetRef"
                                 }, {
                                    "locator" : "338:20-338:93",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                                    "type" : "Instance",
                                    "element" : [ {
                                       "name" : "value",
                                       "value" : {
                                          "type" : "ToDecimal",
                                          "operand" : {
                                             "locator" : "338:45-338:78",
                                             "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                             "type" : "Coalesce",
                                             "operand" : [ {
                                                "locator" : "338:54-338:74",
                                                "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                                "precision" : "Day",
                                                "type" : "DurationBetween",
                                                "operand" : [ {
                                                   "type" : "Start",
                                                   "operand" : {
                                                      "locator" : "338:74",
                                                      "name" : "X",
                                                      "type" : "AliasRef",
                                                      "resultTypeSpecifier" : {
                                                         "type" : "IntervalTypeSpecifier",
                                                         "pointType" : {
                                                            "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                                            "type" : "NamedTypeSpecifier"
                                                         }
                                                      }
                                                   }
                                                }, {
                                                   "type" : "End",
                                                   "operand" : {
                                                      "locator" : "338:74",
                                                      "name" : "X",
                                                      "type" : "AliasRef",
                                                      "resultTypeSpecifier" : {
                                                         "type" : "IntervalTypeSpecifier",
                                                         "pointType" : {
                                                            "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                                            "type" : "NamedTypeSpecifier"
                                                         }
                                                      }
                                                   }
                                                } ]
                                             }, {
                                                "locator" : "338:77",
                                                "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
                                                "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                                "value" : "0",
                                                "type" : "Literal"
                                             } ]
                                          }
                                       }
                                    }, {
                                       "name" : "unit",
                                       "value" : {
                                          "locator" : "338:87-338:91",
                                          "resultTypeName" : "{urn:hl7-org:elm-types:r1}String",
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "day",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 } ]
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "locator" : "339:11-339:31",
                              "resultTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              },
                              "expression" : {
                                 "locator" : "339:18-339:31",
                                 "lowClosed" : true,
                                 "highClosed" : true,
                                 "type" : "Interval",
                                 "resultTypeSpecifier" : {
                                    "type" : "IntervalTypeSpecifier",
                                    "pointType" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 },
                                 "low" : {
                                    "locator" : "339:27",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "name" : "S",
                                    "type" : "QueryLetRef"
                                 },
                                 "high" : {
                                    "locator" : "339:30",
                                    "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "name" : "E",
                                    "type" : "QueryLetRef"
                                 }
                              }
                           }
                        } ]
                     } ]
                  },
                  "starting" : {
                     "locator" : "333:21-333:63",
                     "strict" : false,
                     "type" : "As",
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     },
                     "operand" : {
                        "locator" : "333:31-333:34",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "locator" : "333:39-333:62",
                        "type" : "ListTypeSpecifier",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        },
                        "elementType" : {
                           "locator" : "333:44-333:61",
                           "type" : "IntervalTypeSpecifier",
                           "resultTypeSpecifier" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           },
                           "pointType" : {
                              "locator" : "333:53-333:60",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "intervals",
               "operandTypeSpecifier" : {
                  "locator" : "331:46-331:69",
                  "type" : "ListTypeSpecifier",
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     }
                  },
                  "elementType" : {
                     "locator" : "331:51-331:68",
                     "type" : "IntervalTypeSpecifier",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "pointType" : {
                        "locator" : "331:60-331:67",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }
            } ]
         }, {
            "locator" : "344:1-353:5",
            "name" : "MedicationPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "resultTypeSpecifier" : {
               "type" : "IntervalTypeSpecifier",
               "pointType" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            },
            "expression" : {
               "locator" : "348:3-353:5",
               "type" : "Case",
               "resultTypeSpecifier" : {
                  "type" : "IntervalTypeSpecifier",
                  "pointType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "NamedTypeSpecifier"
                  }
               },
               "caseItem" : [ {
                  "locator" : "349:5-349:81",
                  "when" : {
                     "locator" : "349:10-349:40",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "Is",
                     "operand" : {
                        "locator" : "349:10-349:19",
                        "name" : "medication",
                        "type" : "OperandRef",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}MedicationRequest",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}MedicationDispense",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}MedicationAdministration",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        }
                     },
                     "isTypeSpecifier" : {
                        "locator" : "349:24-349:40",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                        "name" : "{http://hl7.org/fhir}MedicationRequest",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "then" : {
                     "locator" : "349:47-349:81",
                     "name" : "MedicationRequestPeriod",
                     "type" : "FunctionRef",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "operand" : [ {
                        "asType" : "{http://hl7.org/fhir}MedicationRequest",
                        "type" : "As",
                        "operand" : {
                           "locator" : "349:71-349:80",
                           "name" : "medication",
                           "type" : "OperandRef",
                           "resultTypeSpecifier" : {
                              "type" : "ChoiceTypeSpecifier",
                              "choice" : [ {
                                 "name" : "{http://hl7.org/fhir}MedicationRequest",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationDispense",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "type" : "NamedTypeSpecifier"
                              } ]
                           }
                        }
                     } ]
                  }
               }, {
                  "locator" : "350:5-350:83",
                  "when" : {
                     "locator" : "350:10-350:41",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "Is",
                     "operand" : {
                        "locator" : "350:10-350:19",
                        "name" : "medication",
                        "type" : "OperandRef",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}MedicationRequest",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}MedicationDispense",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}MedicationAdministration",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        }
                     },
                     "isTypeSpecifier" : {
                        "locator" : "350:24-350:41",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                        "name" : "{http://hl7.org/fhir}MedicationDispense",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "then" : {
                     "locator" : "350:48-350:83",
                     "name" : "MedicationDispensePeriod",
                     "type" : "FunctionRef",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "operand" : [ {
                        "asType" : "{http://hl7.org/fhir}MedicationDispense",
                        "type" : "As",
                        "operand" : {
                           "locator" : "350:73-350:82",
                           "name" : "medication",
                           "type" : "OperandRef",
                           "resultTypeSpecifier" : {
                              "type" : "ChoiceTypeSpecifier",
                              "choice" : [ {
                                 "name" : "{http://hl7.org/fhir}MedicationRequest",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationDispense",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "type" : "NamedTypeSpecifier"
                              } ]
                           }
                        }
                     } ]
                  }
               }, {
                  "locator" : "351:5-351:95",
                  "when" : {
                     "locator" : "351:10-351:47",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "Is",
                     "operand" : {
                        "locator" : "351:10-351:19",
                        "name" : "medication",
                        "type" : "OperandRef",
                        "resultTypeSpecifier" : {
                           "type" : "ChoiceTypeSpecifier",
                           "choice" : [ {
                              "name" : "{http://hl7.org/fhir}MedicationRequest",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}MedicationDispense",
                              "type" : "NamedTypeSpecifier"
                           }, {
                              "name" : "{http://hl7.org/fhir}MedicationAdministration",
                              "type" : "NamedTypeSpecifier"
                           } ]
                        }
                     },
                     "isTypeSpecifier" : {
                        "locator" : "351:24-351:47",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                        "name" : "{http://hl7.org/fhir}MedicationAdministration",
                        "type" : "NamedTypeSpecifier"
                     }
                  },
                  "then" : {
                     "locator" : "351:54-351:95",
                     "name" : "MedicationAdministrationPeriod",
                     "type" : "FunctionRef",
                     "resultTypeSpecifier" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "operand" : [ {
                        "asType" : "{http://hl7.org/fhir}MedicationAdministration",
                        "type" : "As",
                        "operand" : {
                           "locator" : "351:85-351:94",
                           "name" : "medication",
                           "type" : "OperandRef",
                           "resultTypeSpecifier" : {
                              "type" : "ChoiceTypeSpecifier",
                              "choice" : [ {
                                 "name" : "{http://hl7.org/fhir}MedicationRequest",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationDispense",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "type" : "NamedTypeSpecifier"
                              } ]
                           }
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "locator" : "352:10-352:13",
                     "resultTypeName" : "{urn:hl7-org:elm-types:r1}Any",
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "IntervalTypeSpecifier",
                     "pointType" : {
                        "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "NamedTypeSpecifier"
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "medication",
               "operandTypeSpecifier" : {
                  "locator" : "344:47-347:3",
                  "type" : "ChoiceTypeSpecifier",
                  "resultTypeSpecifier" : {
                     "type" : "ChoiceTypeSpecifier",
                     "choice" : [ {
                        "name" : "{http://hl7.org/fhir}MedicationRequest",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "name" : "{http://hl7.org/fhir}MedicationDispense",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "name" : "{http://hl7.org/fhir}MedicationAdministration",
                        "type" : "NamedTypeSpecifier"
                     } ]
                  },
                  "choice" : [ {
                     "locator" : "344:54-344:72",
                     "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                     "name" : "{http://hl7.org/fhir}MedicationRequest",
                     "type" : "NamedTypeSpecifier"
                  }, {
                     "locator" : "345:5-345:24",
                     "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                     "name" : "{http://hl7.org/fhir}MedicationDispense",
                     "type" : "NamedTypeSpecifier"
                  }, {
                     "locator" : "346:5-346:30",
                     "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                     "name" : "{http://hl7.org/fhir}MedicationAdministration",
                     "type" : "NamedTypeSpecifier"
                  } ]
               }
            } ]
         }, {
            "locator" : "366:1-382:3",
            "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
            "name" : "CumulativeMedicationDuration",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "locator" : "370:3-382:3",
               "resultTypeName" : "{urn:hl7-org:elm-types:r1}Integer",
               "name" : "CumulativeDuration",
               "type" : "FunctionRef",
               "operand" : [ {
                  "locator" : "370:22-381:7",
                  "type" : "Union",
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "IntervalTypeSpecifier",
                        "pointType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     }
                  },
                  "operand" : [ {
                     "locator" : "370:22-374:5",
                     "type" : "Query",
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     },
                     "source" : [ {
                        "locator" : "371:7-371:19",
                        "alias" : "M",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "ChoiceTypeSpecifier",
                              "choice" : [ {
                                 "name" : "{http://hl7.org/fhir}MedicationRequest",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationDispense",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "type" : "NamedTypeSpecifier"
                              } ]
                           }
                        },
                        "expression" : {
                           "locator" : "371:7-371:17",
                           "name" : "Medications",
                           "type" : "OperandRef",
                           "resultTypeSpecifier" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "type" : "ChoiceTypeSpecifier",
                                 "choice" : [ {
                                    "name" : "{http://hl7.org/fhir}MedicationRequest",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}MedicationDispense",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                    "type" : "NamedTypeSpecifier"
                                 } ]
                              }
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "where" : {
                        "locator" : "372:9-372:36",
                        "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "Is",
                        "operand" : {
                           "locator" : "372:15",
                           "name" : "M",
                           "type" : "AliasRef",
                           "resultTypeSpecifier" : {
                              "type" : "ChoiceTypeSpecifier",
                              "choice" : [ {
                                 "name" : "{http://hl7.org/fhir}MedicationRequest",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationDispense",
                                 "type" : "NamedTypeSpecifier"
                              }, {
                                 "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "type" : "NamedTypeSpecifier"
                              } ]
                           }
                        },
                        "isTypeSpecifier" : {
                           "locator" : "372:20-372:36",
                           "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                           "name" : "{http://hl7.org/fhir}MedicationRequest",
                           "type" : "NamedTypeSpecifier"
                        }
                     },
                     "return" : {
                        "locator" : "373:9-373:34",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        },
                        "expression" : {
                           "locator" : "373:16-373:34",
                           "name" : "MedicationPeriod",
                           "type" : "FunctionRef",
                           "resultTypeSpecifier" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           },
                           "operand" : [ {
                              "locator" : "373:33",
                              "name" : "M",
                              "type" : "AliasRef",
                              "resultTypeSpecifier" : {
                                 "type" : "ChoiceTypeSpecifier",
                                 "choice" : [ {
                                    "name" : "{http://hl7.org/fhir}MedicationRequest",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}MedicationDispense",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                    "type" : "NamedTypeSpecifier"
                                 } ]
                              }
                           } ]
                        }
                     }
                  }, {
                     "locator" : "375:13-381:7",
                     "name" : "RolloutIntervals",
                     "type" : "FunctionRef",
                     "resultTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "IntervalTypeSpecifier",
                           "pointType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     },
                     "operand" : [ {
                        "locator" : "377:11-379:38",
                        "type" : "Query",
                        "resultTypeSpecifier" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "IntervalTypeSpecifier",
                              "pointType" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        },
                        "source" : [ {
                           "locator" : "377:11-377:23",
                           "alias" : "M",
                           "resultTypeSpecifier" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "type" : "ChoiceTypeSpecifier",
                                 "choice" : [ {
                                    "name" : "{http://hl7.org/fhir}MedicationRequest",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}MedicationDispense",
                                    "type" : "NamedTypeSpecifier"
                                 }, {
                                    "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                    "type" : "NamedTypeSpecifier"
                                 } ]
                              }
                           },
                           "expression" : {
                              "locator" : "377:11-377:21",
                              "name" : "Medications",
                              "type" : "OperandRef",
                              "resultTypeSpecifier" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "ChoiceTypeSpecifier",
                                    "choice" : [ {
                                       "name" : "{http://hl7.org/fhir}MedicationRequest",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationDispense",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                       "type" : "NamedTypeSpecifier"
                                    } ]
                                 }
                              }
                           }
                        } ],
                        "relationship" : [ ],
                        "where" : {
                           "locator" : "378:13-378:74",
                           "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "Or",
                           "operand" : [ {
                              "locator" : "378:19-378:41",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "Is",
                              "operand" : {
                                 "locator" : "378:19",
                                 "name" : "M",
                                 "type" : "AliasRef",
                                 "resultTypeSpecifier" : {
                                    "type" : "ChoiceTypeSpecifier",
                                    "choice" : [ {
                                       "name" : "{http://hl7.org/fhir}MedicationRequest",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationDispense",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                       "type" : "NamedTypeSpecifier"
                                    } ]
                                 }
                              },
                              "isTypeSpecifier" : {
                                 "locator" : "378:24-378:41",
                                 "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                                 "name" : "{http://hl7.org/fhir}MedicationDispense",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "locator" : "378:46-378:74",
                              "resultTypeName" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "Is",
                              "operand" : {
                                 "locator" : "378:46",
                                 "name" : "M",
                                 "type" : "AliasRef",
                                 "resultTypeSpecifier" : {
                                    "type" : "ChoiceTypeSpecifier",
                                    "choice" : [ {
                                       "name" : "{http://hl7.org/fhir}MedicationRequest",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationDispense",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                       "type" : "NamedTypeSpecifier"
                                    } ]
                                 }
                              },
                              "isTypeSpecifier" : {
                                 "locator" : "378:51-378:74",
                                 "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        },
                        "return" : {
                           "locator" : "379:13-379:38",
                           "resultTypeSpecifier" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }
                           },
                           "expression" : {
                              "locator" : "379:20-379:38",
                              "name" : "MedicationPeriod",
                              "type" : "FunctionRef",
                              "resultTypeSpecifier" : {
                                 "type" : "IntervalTypeSpecifier",
                                 "pointType" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              },
                              "operand" : [ {
                                 "locator" : "379:37",
                                 "name" : "M",
                                 "type" : "AliasRef",
                                 "resultTypeSpecifier" : {
                                    "type" : "ChoiceTypeSpecifier",
                                    "choice" : [ {
                                       "name" : "{http://hl7.org/fhir}MedicationRequest",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationDispense",
                                       "type" : "NamedTypeSpecifier"
                                    }, {
                                       "name" : "{http://hl7.org/fhir}MedicationAdministration",
                                       "type" : "NamedTypeSpecifier"
                                    } ]
                                 }
                              } ]
                           }
                        }
                     } ]
                  } ]
               } ]
            },
            "operand" : [ {
               "name" : "Medications",
               "operandTypeSpecifier" : {
                  "locator" : "366:60-369:4",
                  "type" : "ListTypeSpecifier",
                  "resultTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "ChoiceTypeSpecifier",
                        "choice" : [ {
                           "name" : "{http://hl7.org/fhir}MedicationRequest",
                           "type" : "NamedTypeSpecifier"
                        }, {
                           "name" : "{http://hl7.org/fhir}MedicationDispense",
                           "type" : "NamedTypeSpecifier"
                        }, {
                           "name" : "{http://hl7.org/fhir}MedicationAdministration",
                           "type" : "NamedTypeSpecifier"
                        } ]
                     }
                  },
                  "elementType" : {
                     "locator" : "366:65-369:3",
                     "type" : "ChoiceTypeSpecifier",
                     "resultTypeSpecifier" : {
                        "type" : "ChoiceTypeSpecifier",
                        "choice" : [ {
                           "name" : "{http://hl7.org/fhir}MedicationRequest",
                           "type" : "NamedTypeSpecifier"
                        }, {
                           "name" : "{http://hl7.org/fhir}MedicationDispense",
                           "type" : "NamedTypeSpecifier"
                        }, {
                           "name" : "{http://hl7.org/fhir}MedicationAdministration",
                           "type" : "NamedTypeSpecifier"
                        } ]
                     },
                     "choice" : [ {
                        "locator" : "366:72-366:90",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationRequest",
                        "name" : "{http://hl7.org/fhir}MedicationRequest",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "locator" : "367:5-367:24",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationDispense",
                        "name" : "{http://hl7.org/fhir}MedicationDispense",
                        "type" : "NamedTypeSpecifier"
                     }, {
                        "locator" : "368:5-368:30",
                        "resultTypeName" : "{http://hl7.org/fhir}MedicationAdministration",
                        "name" : "{http://hl7.org/fhir}MedicationAdministration",
                        "type" : "NamedTypeSpecifier"
                     } ]
                  }
               }
            } ]
         } ]
      }
   }
}

